<!-- check for database, network or other errors-->
<div *ngIf="!isLoading && feedback.feedbackType === 'error'" class="text-center">
    <div class="alert alert-success" [ngClass]="feedback.feedbackType === 'success'
              ? 'alert-success'
              : 'alert-danger'
          " role="alert" style="height: 50px" [ngStyle]="!feedback.feedbackmsg">
        {{
        feedback.feedbackType === "error"
        ? feedback.feedbackmsg + " Please try again later."
        : ""
        }}
    </div>
</div>

<div *ngIf="feedback.feedbackType && isLoading"
    [ngClass]="{'alert-success': feedback.feedbackType === 'success', 'alert-danger': feedback.feedbackType === 'error'}"
    class="alert" class="text-center">
    {{ feedback.feedbackmsg }}
</div>

<div class="row justify-content-center">
    <div class="col-md-4 register-person">
        <!-- form card register -->
        <div class="card card-outline-secondary">
            <div class="card-header">
                <h3 class="mb-0">Edit Product</h3>
            </div>

            <div class="card-body" style="text-align:center">
                <form novalidate [formGroup]="editForm" (ngSubmit)="onSubmit()">
                    <div>
                        <p>
                            <label for="title">Title</label>
                            <input type="text" id="title" title="title" class="form-control" formControlName="title"
                                [ngClass]="{'is-invalid': title.invalid && title.dirty,
                                              'is-valid': title.valid && title.dirty}">
                        </p>
                        <div *ngIf="!title.valid && (title.dirty || title.touched)" class="error">
                            <div *ngIf="title.errors.required">
                                title is required</div>
                            <div *ngIf="title.errors.minlength && title.touched">
                                title Minimum Length is {{ title.errors.minlength.requiredLength }}
                            </div>
                            <div *ngIf="title.errors.maxlength && title.touched">
                                title Maximum Length is {{ title.errors.maxlength.requiredLength }}
                            </div>
                            <div *ngIf="title.errors.pattern">
                                Only characters - not spaces - are allowed.
                            </div>
                        </div>

                    </div>

                    <div>
                        <p>
                            <label for="description">Description</label>
                            <input type="text" id="description" title="description" formControlName="description"
                                class="form-control" [ngClass]="{'is-invalid': description.invalid && description.dirty,
                                                                 'is-valid': description.valid && description.dirty}">
                        </p>
                        <div *ngIf="!description.valid && (description.dirty || description.touched)" class="error">
                            <div *ngIf="description.errors.required">
                                description is required</div>
                            <div *ngIf="description.errors.minlength && description.touched">
                                description Minimum Length is {{ description.errors.minlength.requiredLength }}
                            </div>
                            <div *ngIf="description.errors.maxlength && description.touched">
                                description Maximum Length is {{ description.errors.maxlength.requiredLength }}
                            </div>
                            <div *ngIf="description.errors.pattern">
                                Only characters - not spaces - are allowed.
                            </div>
                        </div>
                    </div>

                    <div>
                        <p>
                            <label for="company">Company</label>
                            <input type="text" id="company" title="company" class="form-control"
                                formControlName="company" [ngClass]="{'is-invalid': company.invalid && company.dirty,
                                              'is-valid': company.valid && company.dirty}">
                        </p>
                        <div *ngIf="!company.valid && (company.dirty || company.touched)" class="error">
                            <div *ngIf="company.errors.required">
                                company is required
                            </div>
                            <div *ngIf="company.errors.minlength && company.touched">
                                company Minimum Length is {{ company.errors.minlength.requiredLength }}
                            </div>
                            <div *ngIf="company.errors.maxlength && company.touched">
                                company Maximum Length is {{ company.errors.maxlength.requiredLength }}
                            </div>
                            <div *ngIf="company.errors.pattern">
                                Only characters - not spaces - are allowed.
                            </div>
                        </div>
                    </div>

                    <div>
                        <p>
                            <label for="price">Price</label>
                            <input type="text" id="price" title="price" class="form-control" formControlName="price"
                                [ngClass]="{'is-invalid': price.invalid && price.dirty,
                                              'is-valid': price.valid && price.dirty}">
                        </p>
                        <div *ngIf="!price.valid && (price.dirty ||price.touched)">
                            <div *ngIf="price.errors.pattern">
                                Only number are allowed
                            </div>
                            <div *ngIf="price.errors.required">
                                price is required
                            </div>
                            <div *ngIf="price.errors.maxLength && price.touched">
                                Max length allowed is {{price.errors.maxlength?.requiredLength}}
                            </div>
                            <div *ngIf="price.errors.minlength && price.touched">
                                Minimum Length is {{ price.errors.minlength.requiredLength }}
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-success" type="submit" [disabled]="!editForm.valid">Update</button><br><br>
                    <a class="btn btn-success" [routerLink]="['/personedit']">Back to person product list</a>
                </form>
            </div>
        </div>
    </div>
</div>